execute at @s positioned ^ ^1 ^1 run tag @e[type=firework_rocket,distance=..1] add fireworkmaker
tag @s add fireworkmaker.1
execute if items entity @s weapon.mainhand *[minecraft:damage=0] run item replace entity @s weapon.mainhand with minecraft:crossbow[damage=0,custom_data={fireworkmaker:1b},repair_cost=100,max_damage=24,custom_name='{"color":"dark_red","italic":false,"text":"Firework Maker"}',rarity="rare",charged_projectiles=[{components:{"minecraft:fireworks":{explosions:[{colors:[I;16701501,16383998,3847130],fade_colors:[I;10329495],has_trail:1b,has_twinkle:1b,shape:"large_ball"}],flight_duration:2b},"minecraft:intangible_projectile":{}},count:1,id:"minecraft:firework_rocket"}]]
execute if items entity @s weapon.mainhand *[minecraft:damage=3] run item replace entity @s weapon.mainhand with minecraft:crossbow[damage=3,custom_data={fireworkmaker:1b},repair_cost=100,max_damage=24,custom_name='{"color":"dark_red","italic":false,"text":"Firework Maker"}',rarity="rare",charged_projectiles=[{components:{"minecraft:fireworks":{explosions:[{colors:[I;16701501,16383998,3847130],fade_colors:[I;10329495],has_trail:1b,has_twinkle:1b,shape:"large_ball"}],flight_duration:2b},"minecraft:intangible_projectile":{}},count:1,id:"minecraft:firework_rocket"}]]
execute if items entity @s weapon.mainhand *[minecraft:damage=6] run item replace entity @s weapon.mainhand with minecraft:crossbow[damage=6,custom_data={fireworkmaker:1b},repair_cost=100,max_damage=24,custom_name='{"color":"dark_red","italic":false,"text":"Firework Maker"}',rarity="rare",charged_projectiles=[{components:{"minecraft:fireworks":{explosions:[{colors:[I;16701501,16383998,3847130],fade_colors:[I;10329495],has_trail:1b,has_twinkle:1b,shape:"large_ball"}],flight_duration:2b},"minecraft:intangible_projectile":{}},count:1,id:"minecraft:firework_rocket"}]]
execute if items entity @s weapon.mainhand *[minecraft:damage=9] run item replace entity @s weapon.mainhand with minecraft:crossbow[damage=9,custom_data={fireworkmaker:1b},repair_cost=100,max_damage=24,custom_name='{"color":"dark_red","italic":false,"text":"Firework Maker"}',rarity="rare",charged_projectiles=[{components:{"minecraft:fireworks":{explosions:[{colors:[I;16701501,16383998,3847130],fade_colors:[I;10329495],has_trail:1b,has_twinkle:1b,shape:"large_ball"}],flight_duration:2b},"minecraft:intangible_projectile":{}},count:1,id:"minecraft:firework_rocket"}]]
execute if items entity @s weapon.mainhand *[minecraft:damage=12] run item replace entity @s weapon.mainhand with minecraft:crossbow[damage=12,custom_data={fireworkmaker:1b},repair_cost=100,max_damage=24,custom_name='{"color":"dark_red","italic":false,"text":"Firework Maker"}',rarity="rare",charged_projectiles=[{components:{"minecraft:fireworks":{explosions:[{colors:[I;16701501,16383998,3847130],fade_colors:[I;10329495],has_trail:1b,has_twinkle:1b,shape:"large_ball"}],flight_duration:2b},"minecraft:intangible_projectile":{}},count:1,id:"minecraft:firework_rocket"}]]
execute if items entity @s weapon.mainhand *[minecraft:damage=15] run item replace entity @s weapon.mainhand with minecraft:crossbow[damage=15,custom_data={fireworkmaker:1b},repair_cost=100,max_damage=24,custom_name='{"color":"dark_red","italic":false,"text":"Firework Maker"}',rarity="rare",charged_projectiles=[{components:{"minecraft:fireworks":{explosions:[{colors:[I;16701501,16383998,3847130],fade_colors:[I;10329495],has_trail:1b,has_twinkle:1b,shape:"large_ball"}],flight_duration:2b},"minecraft:intangible_projectile":{}},count:1,id:"minecraft:firework_rocket"}]]
execute if items entity @s weapon.mainhand *[minecraft:damage=18] run item replace entity @s weapon.mainhand with minecraft:crossbow[damage=18,custom_data={fireworkmaker:1b},repair_cost=100,max_damage=24,custom_name='{"color":"dark_red","italic":false,"text":"Firework Maker"}',rarity="rare",charged_projectiles=[{components:{"minecraft:fireworks":{explosions:[{colors:[I;16701501,16383998,3847130],fade_colors:[I;10329495],has_trail:1b,has_twinkle:1b,shape:"large_ball"}],flight_duration:2b},"minecraft:intangible_projectile":{}},count:1,id:"minecraft:firework_rocket"}]]
execute if items entity @s weapon.mainhand *[minecraft:damage=21] run item replace entity @s weapon.mainhand with minecraft:crossbow[damage=21,custom_data={fireworkmaker:1b},repair_cost=100,max_damage=24,custom_name='{"color":"dark_red","italic":false,"text":"Firework Maker"}',rarity="rare",charged_projectiles=[{components:{"minecraft:fireworks":{explosions:[{colors:[I;16701501,16383998,3847130],fade_colors:[I;10329495],has_trail:1b,has_twinkle:1b,shape:"large_ball"}],flight_duration:2b},"minecraft:intangible_projectile":{}},count:1,id:"minecraft:firework_rocket"}]]
execute unless items entity @s weapon.mainhand minecraft:crossbow[minecraft:custom_data={fireworkmaker:1b}] run tag @s remove fireworkmaker.1